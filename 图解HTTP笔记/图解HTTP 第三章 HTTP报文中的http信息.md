报文和报文结构
-------

有head有body

有首部有报文主体

首部字段：行、请求/响应首部、通用首部、实体首部（这里联想到一些业务联调的时候，字段就是键值对中的键嘛，其实首部字段也是键值对）

主体：可以有也可以没有

这里在网上又查询了报文为什么这样安排（包实体首部放在最后）

如果说http是运送货物的话，实体就是运送的箱子

![740839-20161218000528276-1663470250.jpg](resources/5377379625E876652551679D63168D08.jpg)

就像给箱子加了说明，这样安排语义化更好，说明数据的意义

例如Content-Type就是如何解释数据，Content-Type: text/html charset=iso-8859-4，就是在告诉我们，这是一个文本，还需要用iso-8859-4这个字符集来把实体中的比特变成文本

还有一个boundary参数也可以在Content-Type中，表示一个字符串，这个字符串是用来分割主体中不同的部分的

Content-Encoding告诉我们数据是否被压缩

编码和压缩
-----

为了传输的快嘛，进行编码和封装

报文主体和实体主体是不一样的，通常他们是相等的，但如果出现压缩，他们的关系就是

报文主体编码后成为实体主体

实体被编码之后还没完，http还可以对他进行压缩，服务器压缩的话，客户端就要负责解压，书上列举了四种压缩方式

gzip、compress、deflate、identity（不进行编码）

对于大容量的数据，http还支持分块传输编码，这里和前面的tcp分块传输数据可能说的是一个事情，这里存疑

发送多种数据的多部分对象集合
--------------

惭愧的是，这个标题我就理解了一会，原来提交表单就是这个场景嘛，http可以一起提交不同类型的数据

这里主要用到的首部字段还是Content-Type

先翻译一个单词，multipart：多部分，这次知识不就联系上了~

1、multipart/form-data

web表单上传时使用

2、multipart/byteranges

状态码206 响应报文包含多个范围的内容时使用

我们在加载一张很大的图片的时候，他是从上到下一块一块出来的，这是http的工作就是一部分一部分的拿数据，每次拿数据报文中都会指出请求的响应范围

这里还涉及到断点续传的功能，哪怕网络中断，http仍然可以正常续传

另外，多部分对象集合的每个部分类型中，都可以包含首部字段

甚至就像对象中包含对象一样，多部分对象集合的单独一部分还可以是多部分对象集合

扩展

对于get请求方法中一些特殊的字符，比方说?、=、& 这些，jquery是用16进制做了转码，才不会引起参数异常

[Http之实体和编码](https://www.cnblogs.com/xiaohuochai/p/6193614.html)

[Content-range和range的区别](https://codeday.me/bug/20170720/42791.html)